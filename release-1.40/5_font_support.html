
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>5 Font Support Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="styles/website.css">
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="5_font_support.html" />
    
    
    <link rel="prev" href="4_redacted.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    EDK II Multi-String .UNI File Format Specification
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="1_introduction.html">
            
                <a href="1_introduction.html#1-introduction">
            
                    
                    1 Introduction
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="1_introduction.html">
            
                <a href="1_introduction.html#11-related-information">
            
                    
                    1.1 Related Information
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="1_introduction.html">
            
                <a href="1_introduction.html#12-terms">
            
                    
                    1.2 Terms
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="1_introduction.html">
            
                <a href="1_introduction.html#13-conventions-used-in-this-document">
            
                    
                    1.3 Conventions used in this document
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="2_unicode_strings_file_format.html">
            
                <a href="2_unicode_strings_file_format.html#2-unicode-strings-file-format">
            
                    
                    2 Unicode Strings File Format
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="2_unicode_strings_file_format.html">
            
                <a href="2_unicode_strings_file_format.html#21-common-ebnf">
            
                    
                    2.1 Common EBNF
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="3_hii_string_packs.html">
            
                <a href="3_hii_string_packs.html#3-hii-string-packs">
            
                    
                    3 HII String Packs
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="3_hii_string_packs.html">
            
                <a href="3_hii_string_packs.html#31-example-file">
            
                    
                    3.1 Example file
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="4_redacted.html">
            
                <a href="4_redacted.html#4-redacted">
            
                    
                    4 Redacted
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="5_font_support.html">
            
                <a href="5_font_support.html#5-font-support">
            
                    
                    5 Font Support
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="5_font_support.html">
            
                <a href="5_font_support.html#51-font">
            
                    
                    5.1 #font
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="5_font_support.html">
            
                <a href="5_font_support.html#52-fontdef">
            
                    
                    5.2 #fontdef
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="5_font_support.html">
            
                <a href="5_font_support.html#53-string-extensions">
            
                    
                    5.3 #string Extensions
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="2.1" >
            
                <span>
            
                    
                    Tables
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" data-path="5_font_support.html">
            
                <a href="5_font_support.html#table-1-uni-file-font-escape-characters">
            
                    
                    Table 1 .uni File Font Escape Characters
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >5 Font Support</a>
    </h1>
</div>
<div>
    <!-- 
    <img style="float:left; align:middle; height:2em" src="media/TianocoreTitlePageLogo.jpg"/>
     -->
    
      <h2>
        <div style="position:absolute;text-align:left">EDK II Multi-String .UNI File Format Specification</div>
        <div style="text-align:right">Revision 1.40</div>
      </h2>  
    
    <hr>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
                                <section class="normal markdown-section">
                                
                                <!--- @file
  5 Font Support

  Copyright (c) 2016-2017, Intel Corporation. All rights reserved.<BR>

  Redistribution and use in source (original document form) and 'compiled'
  forms (converted to PDF, epub, HTML and other formats) with or without
  modification, are permitted provided that the following conditions are met:

  1) Redistributions of source code (original document form) must retain the
     above copyright notice, this list of conditions and the following
     disclaimer as the first lines of this file unmodified.

  2) Redistributions in compiled form (transformed to other DTDs, converted to
     PDF, epub, HTML and other formats) must reproduce the above copyright
     notice, this list of conditions and the following disclaimer in the
     documentation and/or other materials provided with the distribution.

  THIS DOCUMENTATION IS PROVIDED BY TIANOCORE PROJECT "AS IS" AND ANY EXPRESS OR
  IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO
  EVENT SHALL TIANOCORE PROJECT  BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
  SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
  OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
  OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS DOCUMENTATION, EVEN IF
  ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

-->
<h1 id="5-font-support">5 Font Support</h1>
<p>This chapter defines the optional attributes and entries in EDK II Unicode
files to support font selection.</p>
<h3 id="syntax">Syntax</h3>
<p>The following sections describe extensions to the .uni format.</p>
<p>The extensions add support for fonts into the .uni format by introducing the
<code>#fontdef</code> and <code>#font</code> commands, extending the <code>#string</code> command and adding new
escape characters into the strings.</p>
<h3 id="fonts">Fonts</h3>
<p>Every string is associated with a font. Each font has a font identifier, a font
name, a size (in pixel height) and a style (normal, bold, etc.). By default,
strings will be associated with the font identifier <code>sysdefault</code>. Usually this
is associated with the font sysdefault, 19, normal (the standard UEFI font).</p>
<p>The default font associated with strings can be changed from sysdefault to
another font identifier using the <code>#font</code> command. All strings after the
<code>#font</code> command will use the specified font identifier.</p>
<p>Strings can use a different <code>#font</code> identifier by using the font attribute of
the <code>#string</code> command (before the first <code>#language</code> attribute). A string in a
specific language can use a different font identifier by using the <code>#font</code>
attribute <em>after</em> the language attribute.</p>
<p>Characters within a string can use a different font identifier, a different
font size or a different font style by using the <code>\f</code> escape sequences
described below. These escape characters extend those described in the <em>EDK2
Build Specification</em>.</p>
<h6 id="table-1-uni-file-font-escape-characters">Table 1 .uni File Font Escape Characters</h6>
<table>
<thead>
<tr>
<th>Font Control Character</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>\&quot;</td>
<td>Insert a double-quote.</td>
</tr>
<tr>
<td><code>\\</code></td>
<td>Insert a single backslash.</td>
</tr>
<tr>
<td>\br</td>
<td>Breaking code.</td>
</tr>
<tr>
<td>\f!identifier!</td>
<td>Select the font identifier for the characters which follow.</td>
</tr>
<tr>
<td>\fb</td>
<td>Toggle the current bold style for characters that follow in the current string.</td>
</tr>
<tr>
<td>\fd</td>
<td>Toggle the current double-underline style. If the current style is underline, the style becomes double-underline.</td>
</tr>
<tr>
<td>\fe</td>
<td>Toggle the current emboss style for the characters that follow.</td>
</tr>
<tr>
<td>\fh!integer!</td>
<td>Select the font size (in pixels) for the characters that follow.</td>
</tr>
<tr>
<td>\fi</td>
<td>Toggle the current italic style for the characters that follow in the current string.</td>
</tr>
<tr>
<td>\fs</td>
<td>Toggle the current shadow style for the characters that follow in the current string.</td>
</tr>
<tr>
<td>\fu</td>
<td>Toggle the current underline style for the characters that follow in the current string.</td>
</tr>
<tr>
<td>\n</td>
<td>Insert a carriage-return and line-feed.</td>
</tr>
<tr>
<td>\narrow</td>
<td>Display the following characters as &quot;narrow&quot; characters.</td>
</tr>
<tr>
<td>\nbr</td>
<td>Non-breaking code.</td>
</tr>
<tr>
<td>\r</td>
<td>Insert a carriage-return.</td>
</tr>
<tr>
<td>\wide</td>
<td>Display the following characters as &quot;wide&quot; characters</td>
</tr>
</tbody>
</table>
<p>Font identifiers are created by using the <code>#fontdef</code>.</p>
<h2 id="51-font">5.1 #font</h2>
<p>Set the default font to use with all subsequent <code>#strings</code>.</p>
<h3 id="syntax">Syntax</h3>
<p><code>&quot;#font&quot; &lt;MS&gt; font-identifier</code></p>
<h3 id="attributes">Attributes</h3>
<p><strong><em>font-identifier</em></strong></p>
<p>C style identifier associated with the font.</p>
<h2 id="52-fontdef">5.2 #fontdef</h2>
<p>Associated a font identifier with a specific font family, size and style.</p>
<h3 id="syntax">Syntax</h3>
<pre><code class="lang-c"><span class="hljs-string">&quot;#fontdef&quot;</span> &lt;MS&gt; _font-identifier_ &lt;MS&gt; &lt;FontOptions&gt; &lt;EOL&gt;

&lt;FontOptions&gt;   ::= font-name &lt;MS&gt; font-size [&lt;MS&gt; font-style-<span class="hljs-built_in">list</span>]
font-style-<span class="hljs-built_in">list</span> ::= &lt;UDblQuote&gt; [fs-entries] &lt;UDblQuote&gt;
fs-entries      ::= font-style [<span class="hljs-string">&quot;|&quot;</span> font-style]*
font-style      ::= {<span class="hljs-string">&quot;bold&quot;</span>} {<span class="hljs-string">&quot;italic&quot;</span>} {<span class="hljs-string">&quot;underline&quot;</span>} {<span class="hljs-string">&quot;dblunder&quot;</span>}
                    {<span class="hljs-string">&quot;shadow&quot;</span>} {<span class="hljs-string">&quot;emboss&quot;</span>} {<span class="hljs-string">&quot;normal&quot;</span>}
font-size       ::= (<span class="hljs-number">1</span><span class="hljs-number">-9</span>) (<span class="hljs-number">0</span><span class="hljs-number">-9</span>)*
</code></pre>
<h3 id="attributes">Attributes</h3>
<p><strong><em>font-identifier</em></strong></p>
<p>C-style identifier.</p>
<p><strong><em>font-name</em></strong></p>
<p>Quoted string that specifies a font family name. For example, &quot;Arial&quot; or
&quot;Times New Roman&quot;</p>
<p><strong><em>font-size</em></strong></p>
<p>Unsigned integer that specifies the height of the font character cell, in
pixels. For example, the UEFI standard font is size 19 because the cell is
19 pixels high.</p>
<p><strong><em>font-style</em></strong></p>
<p>Quoted string that contains zero or more keywords that specify the font
style, separated by a &quot;|&quot;. If &quot;normal&quot; is used, then it may not be combined
with any other font style. If there is no font style specified, then &quot;normal&quot;
is assumed.</p>
<h2 id="53-string-extensions">5.3 #string Extensions</h2>
<p>The EDK II build command is responsible for parsing the .uni files specified
in INF files&apos; <code>[Sources]</code> sections. The tool uses python objects to convert the
syntax in the HII string files to byte arrays in the AutoGen.c file for each
module.</p>
<p>Refer to the EDK II Build Specification for details on the process of creating
the byte arrays.</p>
<h3 id="syntax">Syntax</h3>
<pre><code class="lang-c">&lt;UnicodeLines&gt; ::= <span class="hljs-string">&quot;#string&quot;</span> &lt;MS&gt; &lt;Identifier&gt; &lt;ME&gt;
                   [&lt;FontId&gt;]
                   [&lt;LangLine&gt;]+
&lt;LangLine&gt;     ::= <span class="hljs-string">&quot;#language&quot;</span> &lt;MS&gt; lang-code &lt;ME&gt; &lt;FontString&gt;
&lt;FontString&gt;   ::= [&lt;FontId&gt;] [&lt;strings&gt;]+
&lt;FontId&gt;       ::= [<span class="hljs-string">&quot;#font&quot;</span> &lt;MS&gt; font-identifier&gt; &lt;ME&gt;]
&lt;strings&gt;      ::= &lt;String&gt; &lt;ME&gt;
</code></pre>
<h3 id="extension-to-string-command-in-the-edk2-build-specification">[Extension to #string command in the EDK2 Build Specification]</h3>
<p>The font attribute specifies the default font that will be used for the
characters in string. If <code>#font</code> is not specified, then the default font
identifier will be used.</p>
<p>If the <code>#font</code> attribute appears before the first <code>#language</code> identifier, then
it applies to all characters for all languages. If the <code>#font</code> attribute
appears after a <code>#language</code> identifier, it applies only to the string
characters in that language. It is permissible for <code>#font</code> to appear in more
than one place, in which case the language-specific font identifier will have
priority.</p>
<h4 id="description">Description</h4>
<p>The <code>#fontdef</code> command introduces a font identifier and associates it with a
font of a particular family, size and style. If the font identifier has been
previously defined, then the new definition is ignored.</p>

                                
                                </section>
                            
                        </div>
                    </div>
                    
                    

<div>
    <hr>
    
      <h2>
        <div style="position:absolute;text-align:left">EDK II Multi-String .UNI File Format Specification</div>
        <div style="text-align:right">Revision 1.40</div>
      </h2>  
    
</div>



                
            </div>

            
                
                <a href="4_redacted.html#4-redacted" class="navigation navigation-prev " aria-label="Previous page: 4 Redacted">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="5_font_support.html#51-font" class="navigation navigation-next " aria-label="Next page: 5.1 #font">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"5 Font Support","level":"1.6","depth":1,"next":{"title":"5.1 #font","level":"1.6.1","depth":2,"anchor":"#51-font","path":"5_font_support.md","ref":"5_font_support.md#51-font","articles":[]},"previous":{"title":"4 Redacted","level":"1.5","depth":1,"anchor":"#4-redacted","path":"4_redacted.md","ref":"4_redacted.md#4-redacted","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{"title":"EDK II Multi-String .UNI File Format Specification","version":"Revision 1.40"},"plugins":["puml-aleung"],"pluginsConfig":{"puml-aleung":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"5_font_support.md","mtime":"2020-12-01T05:52:35.016Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-12-01T05:53:11.423Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

